#!/bin/bash

usage() {
  echo "Usage: $(basename "$0") [-h] [-l]"
  echo " -l   list"
}
action='get'
while getopts "hl" arg; do
  case $arg in
    h)
      usage
      exit 0
    ;;
    l)
      action=list
    ;;
    *)
      usage
      exit 1
    ;;
  esac
done
shift $((OPTIND - 1))
if [[ $# -ne 0 ]]; then
  usage
  exit 0
fi

if [[ $action == "list" ]]; then

  jira-curl "status" | jq -r '.[]|[.id, .name, .statusCategory.name]|join(",")'| make-table 'ID,Name,Category'

elif [[ $action == "get" ]]; then

  jira-curl "status"

fi
